(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"background":"#1a2740","primary":"#46cceb","white":"#d5e0f5","secondary":"#b7eaf7","new":"#2196F3","newTwo":"#F194FF","plainWhite":"white","dBackground":"#050c14","lGrayBackground":"#e3e3e3","lBackground":"white","lTextColor":"#2c3e50","dTextColor":"#ffffff"}')},256:function(e,t,n){e.exports=n.p+"static/media/7.9b26e528.png"},364:function(e,t,n){"use strict";n.d(t,"a",(function(){return Qe}));var o=n(9),a=n.n(o),r=n(0),i=n(78),c=n(51),s=n(545),l=n(10),d=n.n(l);var u=n(12),h="https://api-chacha.herokuapp.com";function j(e,t){var n=t.method,o=t.endpoint,a=t.data,r=t.token,c=t.csrf;if("web"===u.a.OS){var s,l;i.a.getItem("Token",(function(e,t){t&&(s=t.replace('"',"").replace('"',""))})),a&&(l=JSON.stringify(a));var d=new XMLHttpRequest,j=""+h+o;d.responseType="json",d.open(n,j),d.setRequestHeader("Content-Type","application/json"),s&&d.setRequestHeader("Authorization","Token "+s),"web"===!u.a.OS&&d.setRequestHeader("Referer",h),c&&d.setRequestHeader("X-CSRFToken",c),d.onload=function(){e(d.response,d.status)},d.onerror=function(t){console.log(t),e({message:"The request was an error"},400)},d.send(l)}else{var f;a&&(f=JSON.stringify(a));var g=new XMLHttpRequest,b=""+h+o;g.responseType="json",g.open(n,b),g.setRequestHeader("Content-Type","application/json"),r&&g.setRequestHeader("Authorization","Token "+r),c&&(g.setRequestHeader("Referer",h),g.setRequestHeader("X-CSRFToken",c)),g.onload=function(){var t=g.response,n=g.status;e(t,n)},g.send(f)}}var f=n(22),g=n(45),b=n(31),m=n(14),p=b.a.get("window"),y=p.height,x=p.width,O=m.a.create({warning:{padding:10,backgroundColor:"red",borderRadius:5,opacity:.8,margin:5,alignItems:"center",justifyContent:"center"},registerText:{color:"white",fontSize:17,fontFamily:"Black"},Register:{alignItems:"center",justifyContent:"center",padding:10,borderRadius:10,margin:10},input:{paddingLeft:20,padding:10,margin:10,fontFamily:"Bold"},bottomTab:{marginTop:"auto",height:y/1.5,backgroundColor:"black",padding:10,borderTopLeftRadius:10,borderTopRightRadius:10,justifyContent:"center"},container:{flex:1,backgroundColor:f.primary,justifyContent:"center"},overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},modalContainer:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1,height:y/2},dropDown:{width:x/2,position:"absolute",top:0,right:50,borderWidth:1},dropDownaction:{padding:5,paddingLeft:10,alignItems:"center",justifyContent:"center",borderWidth:1,margin:4,borderColor:"#2c3e50",borderRadius:10},boldStyle:{fontFamily:"Bold",fontSize:17}}),S=n(82),w=n(19),k=n(68),v=n(67),C=n(21),T=n(11),B=n(44),F=n(46),R=n(97),z=n(34),P=n(1),I=b.a.get("screen"),M=(I.width,I.height);function L(e){var t=Object(g.a)(),o="light"===t?f.lBackground:f.dBackground,s="light"===t?f.dBackground:f.lBackground,l=Object(r.useState)(),h=a()(l,2),b=h[0],m=h[1],p=Object(r.useState)(!1),y=a()(p,2),x=y[0],I=y[1],L=Object(c.q)(),D=Object(r.useState)(),E=a()(D,2),W=E[0],q=E[1],_=Object(r.useState)(!1),H=a()(_,2),A=H[0],N=H[1],V=Object(r.useState)(!1),U=a()(V,2),G=U[0],Y=U[1],X=Object(r.useState)(!1),J=a()(X,2),K=J[0],Q=J[1],Z=Object(r.useState)(),$=a()(Z,2),ee=$[0],te=$[1];Object(r.useEffect)((function(){fetch("https://api-chacha.herokuapp.com/csrf",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){te(e.csrf)})).catch((function(e){return console.error()}))}),[]);var ne=function(e,t){console.log(e,t),N(!1),200===t?(console.log(e.token),Q(!1),Y(!1),function(e){var t;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=JSON.stringify(e),n.next=4,d.a.awrap(i.a.setItem("Token",t));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)}(e.token),L.reset({index:0,routes:[{name:"Home",params:{token:e.token}}]})):400===t?e.non_field_errors&&(Q(!0),"android"===u.a.OS?F.a.show("Make sure to check your capitaliztion. both fields are case sensitive.",1e3):alert("Make sure to check your capitaliztion. both fields are case sensitive."),Y(!1)):console.log(t),403===t&&(Q(!1),Y(!1),"android"===u.a.OS&&F.a.show("Network Error, Please try again.",50))};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{children:Object(P.jsxs)(T.a,{style:[O.container,{backgroundColor:o,paddingBottom:M/2}],children:[Object(P.jsx)(B.a,{style:{width:500,height:500,tintColor:s,alignSelf:"center"},source:n(256)}),Object(P.jsx)(k.a,{placeholderTextColor:s,value:b,onChangeText:function(e){return m(e)},style:[O.input,{color:s,fontFamily:"Black"}],placeholder:"Username"}),Object(P.jsx)(k.a,{placeholderTextColor:s,value:W,onChangeText:function(e){return q(e)},style:[O.input,{color:s}],placeholder:"Password",secureTextEntry:!0}),Object(P.jsx)(z.a,{onPress:function(e){b&&W?(N(!0),Y(!1),j(ne,{csrf:ee,endpoint:"/users/accounts/api/auth/login",method:"POST",data:{username:b,password:W}})):(Q(!1),Y(!0))},style:[O.Register,{borderColor:"#2c3e50",borderWidth:2}],children:A?Object(P.jsx)(R.a,{size:"small",color:s}):Object(P.jsx)(C.a,{style:[O.registerText,{color:s}],children:"Login"})}),Object(P.jsxs)(z.a,{onPress:function(){return I(!0)},style:{alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Regular",fontSize:15},children:"Have an account on Chacha?"}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Regular",fontSize:15},children:"You can use your Chacha account to login."}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Bold",fontSize:15},children:"Learn more"})]}),Object(P.jsx)(z.a,{onPress:function(){return L.push("Register")},style:[O.Register],children:Object(P.jsxs)(C.a,{style:{color:s,fontFamily:"Light",fontSize:15},children:["Don't have an account? ",Object(P.jsx)(C.a,{style:{fontFamily:"Bold"},children:"Register."})," "]})})]})}),Object(P.jsxs)(T.a,{style:{position:"absolute",top:0,width:"90%",alignItems:"center",justifyContent:"center",marginTop:50,alignSelf:"center"},children:[K?Object(P.jsx)(T.a,{style:O.warning,children:Object(P.jsx)(C.a,{style:{fontSize:15,color:"white",fontFamily:"Black"},children:"Username and password didn't match"})}):null,G?Object(P.jsx)(T.a,{style:O.warning,children:Object(P.jsx)(C.a,{style:{fontSize:15,color:"white",fontFamily:"Black"},children:"Please Fill both of the fields correctly"})}):null]}),Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:x,transparent:!0,onDismiss:function(){return I(!1)},onRequestClose:function(){return I(!1)},children:Object(P.jsx)(T.a,{style:O.overlay,children:Object(P.jsxs)(w.a.View,{style:[O.modalContainer,{backgroundColor:o,padding:10}],children:[Object(P.jsxs)(v.a,{children:[Object(P.jsx)(T.a,{style:{width:"10%",height:5,borderRadius:20,alignSelf:"center",backgroundColor:"lightgray"}}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Bold",fontSize:15,alignSelf:"center"},children:"What is chacha?"}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Chacha is a new Social Media platform based in Africa. It's goals are to bring African people closer and make people heard."}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:5},children:"What is the relation of Chacha and Topping?"}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Topping is made in the same user base with Chacha. Meaning if you have an account on Chacha, you will have access to Topping. and vise versa."}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:5},children:"Does this mean I can login with my Chacha account?"}),Object(P.jsx)(C.a,{style:{color:s,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Yes. That is right. once you create an account in Topping. You can have access to Topping, as well as Chacha."}),Object(P.jsx)(C.a,{onPress:function(){return L.push("Login")},style:{color:s,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:20},children:"Log me in!"})]}),Object(P.jsx)(z.a,{onPress:function(){return I(!1)},style:{position:"absolute",top:0,left:10},children:Object(P.jsx)(C.a,{style:{fontFamily:"Bold",fontSize:20,color:s},children:"X"})})]})})})]})}var D=n(73),E=n(546),W=n(55),q=n(371),_=n(120),H=(m.a.create({lContainer:{flex:1,backgroundColor:f.lBackground,alignItems:"center",justifyContent:"center"},dContainer:{flex:1,backgroundColor:f.dBackground,alignItems:"center",justifyContent:"center"},lTextH3:{color:"#2c3e50",fontSize:17},dTextH3:{color:"#e3e3e3",fontSize:17},lTextH1:{color:"#2c3e50",fontSize:17,fontWeight:"bold"},dTextH1:{color:"#e3e3e3",fontSize:17,fontWeight:"bold"}}),n(81)),A=n(158),N=n(251),V=b.a.get("window"),U=V.width;V.height;function G(e){var t=Object(c.q)(),n="light"===s?f.lBackground:f.dBackground,o="light"===s?f.dBackground:f.lBackground,s=Object(g.a)(),l=e.item,h=Object(r.useState)(!1),b=a()(h,2),m=b[0],p=b[1],y=Object(r.useState)(),x=a()(y,2),O=x[0],k=x[1];Object(r.useEffect)((function(){i.a.getItem("Token").then((function(e){e?k(e.replace('"',"").replace('"',"")):console.log("Not logged in, navigations/index.js : 37")}))}),[]);var v=Object(r.useState)(),B=a()(v,2),R=B[0],I=B[1];Object(r.useEffect)((function(){fetch("https://api-chacha.herokuapp.com/csrf",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){I(e.csrf)})).catch((function(e){return console.error()}))}),[]);var M=Object(r.useState)(l.hasLiked),L=a()(M,2),D=L[0],E=L[1],q=Object(r.useState)(l.hasDisLiked),_=a()(q,2),V=_[0],U=_[1],G=Object(r.useState)(l.likes.length),X=a()(G,2),J=X[0],K=X[1],Q=Object(r.useState)(l.dislikes.length),Z=a()(Q,2),$=Z[0],ee=Z[1],te=function(e){if(O){"like"===e?(E(!0),U(!1)):"dislike"===e&&(E(!1),U(!0));j((function(t,n){console.log(t,n),201===n?"like"===e||"dislike"===e?(K(t.likes.length),ee(t.dislikes.length),E(t.hasLiked),U(t.hasDisLiked)):"watch_later"===e?"android"===u.a.OS?F.a.show("Successfully added movie to your watch later library.",40):alert("Successfully added movie to your watch later library."):"android"===u.a.OS?F.a.show("Action sucessfull.",40):alert("Action sucessfull."):403===n?"android"===u.a.OS?F.a.show("Unable to perform action. Please try again.",30):alert("Unable to perform action. Please try again."):"android"===u.a.OS?F.a.show("Unable to perform action. Please try again later.",30):alert("Unable to perform action. Please try again later.")}),{endpoint:"/api/movies/actions",method:"POST",token:O,csrf:R,data:{id:l.id,action:e}})}else p(!0)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(T.a,{style:{marginTop:"auto",flexDirection:"row",justifyContent:"space-around"},children:[Object(P.jsx)(z.a,{onPress:function(){te("like")},children:Object(P.jsx)(N.a,{name:D?"like1":"like2",size:30,color:f.primary})}),Object(P.jsx)(z.a,{onPress:function(){te("dislike")},children:Object(P.jsx)(N.a,{name:V?"dislike1":"dislike2",size:30,color:f.primary})}),Object(P.jsx)(z.a,{onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(A.a.share({message:'Watch "'+l.name+"\" on Toppings, It's really Good!"}));case 3:(e=t.sent).action===A.a.sharedAction?e.activityType:(e.action,A.a.dismissedAction),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),"android"===u.a.OS&&F.a.show(t.t0.message,30);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},children:Object(P.jsx)(W.a,{name:"share-social-outline",size:30,color:f.primary})}),Object(P.jsx)(z.a,{onPress:function(){return t.push("Play Movie",{movie:l})},children:Object(P.jsx)(W.a,{name:"play-outline",size:30,color:f.primary})}),Object(P.jsx)(z.a,{onPress:function(){te("watch_later")},children:Object(P.jsx)(W.a,{name:"time-outline",size:30,color:f.primary})})]}),Object(P.jsxs)(T.a,{style:{marginTop:"auto",flexDirection:"row",justifyContent:"space-between",marginBottom:10,padding:10},children:[Object(P.jsxs)(C.a,{style:{color:o,fontFamily:"Black"},children:[" ",l.views," views"]}),Object(P.jsxs)(C.a,{style:{color:o,fontFamily:"Black"},children:[" ",J," likes"]}),Object(P.jsxs)(C.a,{style:{color:o,fontFamily:"Black"},children:[" ",$," dislikes"]})]}),Object(P.jsxs)(C.a,{style:{color:o,fontFamily:"Black"},children:[" genres: ",l.genre.map((function(e){return Object(P.jsxs)(C.a,{style:{color:o,fontFamily:"Regular"},children:[" ",e.name]},e.id)}))]}),Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:m,transparent:!0,onDismiss:function(){return p(!1)},onRequestClose:function(){return p(!1)},children:Object(P.jsx)(H.a,{onPress:function(){return p(!1)},children:Object(P.jsx)(T.a,{style:Y.overlay,children:Object(P.jsxs)(w.a.View,{style:[Y.container,{backgroundColor:n}],children:[Object(P.jsx)(T.a,{style:{width:"10%",height:5,borderRadius:20,alignSelf:"center",backgroundColor:"lightgray"}}),Object(P.jsx)(C.a,{style:{fontFamily:"Bold",alignSelf:"center",fontSize:20,margin:20,color:o},children:"You should be logged in to Like or share video."}),Object(P.jsx)(z.a,{onPress:function(){return p(!1),t.reset({index:0,routes:[{name:"Login"}]})},style:Y.dropDownaction,children:Object(P.jsx)(C.a,{style:[Y.boldStyle,{color:o}],children:"Login"})}),Object(P.jsx)(z.a,{onPress:function(){return p(!1),t.reset({index:0,routes:[{name:"Register"}]})},style:Y.dropDownaction,children:Object(P.jsx)(C.a,{style:[Y.boldStyle,{color:o}],children:"Register"})})]})})})})]})}var Y=m.a.create({overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1},dropDown:{width:U/2,position:"absolute",top:0,right:50,borderWidth:1},dropDownaction:{padding:5,paddingLeft:10,alignItems:"center",justifyContent:"center",borderWidth:1,margin:4,borderColor:"#2c3e50",borderRadius:10},boldStyle:{fontFamily:"Bold",fontSize:17}}),X=b.a.get("window"),J=X.width,K=X.height;function Q(e){(null==e||null==(t=e.route)?void 0:t.params).token,Object(c.q)();var t,n=Object(r.useState)([]),o=a()(n,2),i=o[0],s=o[1];Object(g.a)();Object(r.useEffect)((function(){j((function(e,t){200===t?s(e):console.log(e,t)}),{endpoint:"/api/movies",method:"GET"})}),[]);var l=Object(r.useState)(J),d=a()(l,2),h=(d[0],d[1]);return Object(r.useEffect)((function(){console.log(b.a.get("window").width),h(b.a.get("window").width)}),[b.a.get("window").width]),Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(D.a,{style:{backgroundColor:f.dBackground},data:i,renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(Z,{item:t})},numColumns:1,horizontal:"web"!==u.a.OS,snapToInterval:J,decelerationRate:"fast",overScrollMode:"never",showsVerticalScrollIndicator:!1,snapToAlignment:"start"})})}function Z(e){var t="light"===n?f.dBackground:f.lBackground,n=Object(g.a)(),o=e.item;Object(c.q)();return Object(P.jsxs)(_.a,{blurRadius:30,source:{uri:o.banner},style:{flex:1,width:"web"===u.a.OS?"100%":J},children:[Object(P.jsx)(_.a,{style:{height:K/2,width:"100%",alignItems:"center",justifyContent:"center"},source:{uri:o.banner},children:Object(P.jsx)(B.a,{style:{height:200,width:200,borderRadius:100,marginTop:"auto",marginBottom:20},source:{uri:o.cover_image}})}),Object(P.jsxs)(T.a,{style:{alignSelf:"center",padding:5},children:[Object(P.jsx)(C.a,{style:{color:t,fontSize:40,fontFamily:"Black"},children:o.name}),Object(P.jsxs)(C.a,{style:{color:t,fontSize:20,fontFamily:"Bold"},children:[$(o.description,10),"..."]}),Object(P.jsxs)(C.a,{style:{color:t,fontSize:15,fontFamily:"Bold"},children:[$(o.story,10),"..."]}),Object(P.jsxs)(C.a,{style:{color:t,fontSize:15,fontFamily:"Regular"},children:["A movie by ",o.creator.first_name," ",o.creator.last_name," @",o.creator.username]})]}),Object(P.jsx)(G,{item:o}),Object(P.jsx)(C.a,{style:{color:t,fontFamily:"Black",alignSelf:"center"},children:ee(o.duration)})]})}function $(e,t){return e.split(" ").splice(0,t).join(" ")}function ee(e){return new Date(1e3*e).toISOString().substr(11,8)}m.a.create({post:{borderRadius:10,borderColor:"#2c3e50",borderWidth:1,backgroundColor:"white",margin:5,padding:5,flexDirection:"row"},label:{fontSize:15,padding:5,alignSelf:"center"},fakeInput:{borderRadius:10,backgroundColor:"white",flexDirection:"row",borderColor:"#2c3e50",borderWidth:1,alignSelf:"center",width:"80%",alignItems:"center",justifyContent:"center"},FakeInputContainerStyle:{width:J,alignItems:"center",justifyContent:"center"}});var te=b.a.get("screen");te.width,te.height;var ne=b.a.get("window");ne.height,ne.width;function oe(e){Object(c.q)();var t=e.token,n=Object(g.a)(),o="light"===n?f.lBackground:f.dBackground,i="light"===n?f.dBackground:f.lBackground,s=Object(r.useState)(!1),l=a()(s,2),d=l[0],u=l[1],h=Object(r.useState)([]),j=a()(h,2),b=j[0],m=j[1],p=Object(r.useState)([]),y=a()(p,2),x=y[0],O=y[1],w=Object(r.useState)(""),v=a()(w,2),B=v[0],F=v[1];Object(r.useEffect)((function(){re((function(e,t){200===t&&m(e)}),{url:"/api/movies/geners"})}),[]);var R=Object(r.useState)(!1),I=a()(R,2),M=I[0],L=I[1],E=function(){L(!1),O([]);re((function(e,t){O(e),0===e.length&&L(!0)}),{url:"/api/movies?search="+B})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(T.a,{style:{flex:1,backgroundColor:o,paddingTop:50},children:[Object(P.jsx)(z.a,{onPress:function(){return u(!d)},style:{marginLeft:"auto",paddingHorizontal:20},children:Object(P.jsx)(W.a,{name:"search-outline",size:30,color:i})}),Object(P.jsx)(D.a,{style:{backgroundColor:o},data:b,renderItem:function(e){var n=e.item;e.index;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(ae,{token:t,item:n})})}})]}),Object(P.jsx)(S.a,{animated:!0,animationType:"slide",statusBarTranslucent:!0,visible:d,onDismiss:function(){return u(!1)},onRequestClose:function(){return u(!1)},transparent:!0,children:Object(P.jsx)(H.a,{children:Object(P.jsx)(T.a,{style:ie.overlay,children:Object(P.jsxs)(T.a,{style:[ie.container,{backgroundColor:o}],children:[Object(P.jsxs)(T.a,{style:{flexDirection:"row",marginHorizontal:10,justifyContent:"space-between"},children:[Object(P.jsx)(W.a,{style:{marginRight:10},onPress:function(){return u(!d)},name:"close",size:30,color:i}),Object(P.jsx)(k.a,{onSubmitEditing:E,onChangeText:function(e){return F(e)},style:{fontFamily:"Medium",fontSize:17,color:i,width:"70%",borderColor:"#2c3e50",borderWidth:1,borderRadius:10,paddingHorizontal:10},autoFocus:!0,autoCorrect:!0,placeholder:"Search Movies",placeholderTextColor:i}),Object(P.jsx)(W.a,{style:{marginRight:10},onPress:E,name:"search-outline",size:30,color:i})]}),M?Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:i,padding:10},children:"No result found for your search."}):null,Object(P.jsx)(D.a,{style:{backgroundColor:o},data:x,renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(fe,{item:t,needWatchLater:!0})})}})]})})})})]})}function ae(e){var t=e.item,n=e.token,o=Object(g.a)(),i=("light"===o?f.lBackground:f.dBackground,"light"===o?f.dBackground:f.lBackground),c=Object(r.useState)([]),s=a()(c,2),l=s[0],d=s[1];Object(r.useEffect)((function(){re((function(e,t){200===t&&d(e)}),{url:"/api/genre/"+t.name})}),[]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Black",paddingLeft:10,fontSize:20},children:t.name}),Object(P.jsx)(D.a,{horizontal:!0,data:l,renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(fe,{needWatchLater:!0,item:t,token:n})})}})]})}function re(e,t){j((function(t,n){e(t,n)}),{endpoint:t.url,method:"GET"})}var ie=m.a.create({overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{flex:1,paddingTop:50},input:{padding:5,margin:5,fontFamily:"Medium"}}),ce=n(541),se=n(339),le=n(340),de=b.a.get("window"),ue=(de.height,de.width),he=Object(ce.a)(),je=Object(E.a)();function fe(e){var t=Object(g.a)(),n=e.item,o=e.token,i=!!e.needWatchLater&&e.needWatchLater,s=!!e.needDeleteAction&&e.needDeleteAction,l=Object(c.q)(),d=("light"===t?f.lBackground:f.dBackground,"light"===t?f.dBackground:f.lBackground),h=r.useState(),b=a()(h,2),m=b[0],p=b[1];r.useEffect((function(){fetch("https://api-chacha.herokuapp.com/csrf",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p(e.csrf)})).catch((function(e){return console.error()}))}),[]);var y=function(e){j((function(t,n){console.log(t,n),"android"===u.a.OS?201===n?"delete_movie"===e?F.a.show("Delted movie Successfully.",30):F.a.show("Removed Movie from watch list.",30):403===n?F.a.show("Unable to perform action. Please try again.",30):F.a.show("Unable to perform action. Please try again later.",30):201===n?"delete_movie"===e?alert("Delted movie Successfully."):alert("Removed Movie from watch list."):403===n?alert("Unable to perform action. Please try again."):alert("Unable to perform action. Please try again later.")}),{endpoint:"/api/movies/actions",method:"POST",token:o,csrf:m,data:{id:n.id,action:e}})};return Object(P.jsxs)(T.a,{style:{flexDirection:"row",padding:10,margin:2,borderColor:"#2c3e50",borderWidth:1,borderRadius:20,alignItems:"center"},children:[Object(P.jsx)(B.a,{source:{uri:n.banner},style:{width:50,height:50,borderRadius:5,margin:3}}),Object(P.jsxs)(T.a,{style:{flexDirection:"column"},children:[Object(P.jsx)(C.a,{style:{fontFamily:"Black",fontSize:13,color:d},children:n.name}),Object(P.jsxs)(C.a,{style:{fontFamily:"Bold",fontSize:13,color:d},children:[n.creator.first_name," ",n.creator.last_name]}),Object(P.jsxs)(C.a,{style:{fontFamily:"Medium",fontSize:13,color:d},children:["@",n.creator.username]})]}),Object(P.jsxs)(T.a,{style:{marginLeft:"auto",justifyContent:"space-between",flexDirection:"column"},children:[Object(P.jsx)(z.a,{onPress:function(){return l.push("Play Movie",{movie:n})},children:Object(P.jsx)(W.a,{name:"play",size:30,color:d})}),s?Object(P.jsx)(z.a,{onPress:function(){y("delete_movie")},children:Object(P.jsx)(W.a,{name:"trash",size:30,color:d})}):Object(P.jsx)(P.Fragment,{children:i?Object(P.jsx)(z.a,{onPress:function(){y("watch_later")},children:Object(P.jsx)(W.a,{name:"time-outline",size:30,color:d})}):Object(P.jsx)(z.a,{onPress:function(){y("remove_watch_later")},children:Object(P.jsx)(W.a,{name:"close",size:30,color:d})})})]})]})}function ge(e){var t=Object(g.a)(),n=e.profile,o=e.token,s=e.navigation,l=Object(c.q)(),d="light"===t?f.lBackground:f.dBackground,u="light"===t?f.dBackground:f.lBackground,h=r.useState([]),b=a()(h,2),m=b[0],p=b[1],y=r.useState([]),x=a()(y,2),O=x[0],S=x[1],w=r.useState([]),k=a()(w,2),v=k[0],F=k[1],R=r.useState([]),I=a()(R,2),M=I[0],L=I[1],E=r.useState(!1),q=a()(E,2),_=q[0],H=q[1],A=r.useState(!1),N=a()(A,2),V=N[0],U=N[1],G=r.useState(!1),Y=a()(G,2),X=Y[0],J=Y[1],K=r.useState(!1),Q=a()(K,2),Z=Q[0],$=Q[1];r.useEffect((function(){j((function(e,t){200===t&&p(e)}),{endpoint:"/api/movies/watch_later",method:"GET",token:o});j((function(e,t){200===t&&S(e)}),{endpoint:"/api/movies/mine",method:"GET",token:o});j((function(e,t){200===t&&F(e)}),{endpoint:"/api/movies/my_liking",method:"GET",token:o});j((function(e,t){200===t&&L(e)}),{endpoint:"/api/movies/my_disliking",method:"GET",token:o})}),[]);var ee=function(){i.a.removeItem("Token"),l.push("Home")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(se.a,{children:[Object(P.jsx)(le.a,{label:function(){return Object(P.jsxs)(T.a,{children:[Object(P.jsx)(B.a,{style:{width:150,height:150,borderRadius:100,backgroundColor:u,alignSelf:"center"},source:{uri:n.has_pfp?n.pfp:"https://api-chacha.herokuapp.com"+n.pfp_url}}),Object(P.jsxs)(C.a,{style:{fontFamily:"Black",fontSize:17,color:u,alignSelf:"center"},children:[n.first_name," ",n.last_name]}),Object(P.jsxs)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:u,alignSelf:"center"},children:["@",n.username]}),Object(P.jsxs)(T.a,{style:{marginTop:20},children:[Object(P.jsxs)(z.a,{onPress:function(){return H(!_)},style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:u,marginBottom:5},children:"Your Watch Later Library"}),Object(P.jsx)(W.a,{name:"caret-down-outline",color:u,size:20})]}),Object(P.jsx)(D.a,{data:_?m:[],renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(fe,{item:t,token:o})},ListFooterComponent:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(z.a,{onPress:function(){return U(!V)},style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:u,marginBottom:5},children:"Your Movies"}),Object(P.jsx)(W.a,{name:"caret-down-outline",color:u,size:20})]}),Object(P.jsx)(D.a,{data:V?O:[],renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(fe,{needDeleteAction:!0,item:t,token:o})},ListFooterComponent:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(z.a,{onPress:function(){return J(!X)},style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:u,marginBottom:5},children:"Your Liked Movies"}),Object(P.jsx)(W.a,{name:"caret-down-outline",color:u,size:20})]}),Object(P.jsx)(D.a,{data:X?v:[],renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(fe,{needWatchLater:!0,item:t,token:o})},ListFooterComponent:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(z.a,{onPress:function(){return $(!Z)},style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:17,color:u,marginBottom:5},children:"Your Disliked Movies"}),Object(P.jsx)(W.a,{name:"caret-down-outline",color:u,size:20})]}),Object(P.jsx)(D.a,{data:Z?M:[],renderItem:function(e){var t=e.item;e.index;return Object(P.jsx)(fe,{needWatchLater:!0,item:t,token:o})}})]})}})]})}})]})}})]})]})}}),Object(P.jsx)(le.a,{label:function(){return Object(P.jsx)(C.a,{onPress:ee,style:{fontSize:16,fontFamily:"Bold",color:"red"},children:"Logout"})}})]}),Object(P.jsx)(z.a,{style:{position:"absolute",top:50,left:10,backgroundColor:f.primary,borderRadius:1e3,padding:10,alignItems:"center",justifyContent:"center"},onPress:function(){return s.closeDrawer()},children:Object(P.jsx)(W.a,{name:"close",color:d,size:25})})]})}function be(e){var t=r.useState(),n=a()(t,2),o=n[0],s=n[1],l=r.useState([]),d=a()(l,2),h=d[0],b=d[1];r.useEffect((function(){i.a.getItem("Token").then((function(e){e?s(e.replace('"',"").replace('"',"")):console.log("Not logged in, navigations/index.js : 37")}))}),[]),r.useEffect((function(){j((function(e,t){200===t?b(e):403===t?("android"===u.a.OS?F.a.show("There was a problem Authenticating you.\nPlease log in.",10):alert("There was a problem Authenticating you.\nPlease log in."),i.a.removeItem("Token"),m.reset({index:0,routes:[{name:"Login"}]})):console.log(e,t)}),{endpoint:"/users/api/profile/me",method:"GET",token:o})}),[]);"light"===p?f.lBackground:f.dBackground;var m=Object(c.q)(),p=Object(g.a)(),y="light"===p?f.lBackground:f.dBackground;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(he.Navigator,{screenOptions:{headerShown:!1,overlayColor:f.primary,drawerStyle:{backgroundColor:y,width:1.1*ue,flex:1},swipeEnabled:!1},drawerContent:function(e){var t=e.navigation;return Object(P.jsx)(ge,{navigation:t,token:o,profile:h})},initialRouteName:"Home Page",defaultStatus:"closed",children:Object(P.jsx)(he.Screen,{name:"Home Page",children:function(){return Object(P.jsx)(me,{profile:h,token:o})}})})})}function me(e){var t=Object(c.q)(),n="light"===Object(g.a)()?f.lBackground:f.dBackground,o=r.useState(),s=a()(o,2),l=s[0],d=s[1];return r.useEffect((function(){i.a.getItem("Token").then((function(e){e?d(e.replace('"',"").replace('"',"")):console.log("Not logged in, navigations/index.js : 37")}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(je.Navigator,{initialRouteName:"Feed",screenOptions:function(e){var t=e.route;return{tabBarActiveTintColor:f.primary,tabBarInactiveTintColor:"#4f6d8c",tabBarStyle:{backgroundColor:f.dBackground,height:40},tabBarIcon:function(e){e.focused;var n,o=e.color,a=(e.size,t.name);return"Feed"===a?(n="home",Object(P.jsx)(q.a,{name:n,size:30,color:o})):"Profile"===a?(n="search-outline",Object(P.jsx)(W.a,{name:n,size:30,color:o})):"Make a Movie"===a?(n="add",Object(P.jsx)(T.a,{style:{backgroundColor:f.primary,paddingHorizontal:15,borderRadius:10},children:Object(P.jsx)(W.a,{name:n,size:30,color:o})})):void 0},tabBarShowLabel:!1}},children:[Object(P.jsx)(je.Screen,{initialParams:{token:l},name:"Feed",options:{headerShown:!1,title:"Topping - Home"},component:Q}),Object(P.jsx)(je.Screen,{initialParams:{token:l},listeners:function(e){var t=e.navigation;return{tabPress:function(e){e.preventDefault(),l?t.navigate("Make Movie"):("android"===u.a.OS?F.a.show("You should be logged in to upload your movie.",30):alert("You should be logged in to upload your movie."),t.navigate("Login"))}}},name:"Make a Movie",options:{headerShown:!1,title:"Topping - Publish Movie"},children:function(){return Object(P.jsx)(T.a,{})}}),Object(P.jsx)(je.Screen,{name:"Profile",options:{headerShown:!1,title:"Topping - Search Movies"},children:function(){return Object(P.jsx)(oe,{token:l})}})]}),l?Object(P.jsx)(z.a,{style:{position:"absolute",top:50,left:10,backgroundColor:f.primary,borderRadius:1e3,padding:10,alignItems:"center",justifyContent:"center"},onPress:function(){return t.openDrawer()},children:Object(P.jsx)(W.a,{name:"person",color:n,size:25})}):null]})}var pe=n(175),ye=n(305),xe=n(366),Oe=b.a.get("window"),Se=(Oe.height,Oe.width);function we(e){var t=e.route.params.movie,n=Object(r.useState)(!1),o=a()(n,2),s=(o[0],o[1],Object(r.useState)(!1)),l=a()(s,2),d=(l[0],l[1],Object(r.useRef)(null)),u=(Object(r.useRef)(null),Object(r.useRef)(null),Object(g.a)()),h="light"===u?f.lBackground:f.dBackground,b="light"===u?f.dBackground:f.lBackground,m=(Object(r.useRef)(null),Object(c.q)()),p=Object(r.useState)({}),y=a()(p,2),x=y[0],O=(y[1],Object(r.useState)()),k=a()(O,2),v=(k[0],k[1]),B=Object(r.useState)(),F=a()(B,2),R=F[0],I=F[1],M=Object(r.useState)(!1),L=a()(M,2),D=L[0],E=L[1],q=Object(r.useState)(!!x.isPlaying&&x.isPlaying),_=a()(q,2);_[0],_[1];return Object(r.useEffect)((function(){i.a.getItem("Token").then((function(e){e?(I(e.replace('"',"").replace('"',"")),E(!1)):(E(!0),console.log("Not logged in, navigations/index.js : 37"))}))}),[]),Object(r.useEffect)((function(){j((function(e,t){200===t&&v(e)}),{endpoint:"/api/movies/"+t.id,method:"GET",token:R})}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(pe.a,{style:{flex:1,backgroundColor:h},children:Object(P.jsx)(T.a,{style:ke.container,children:Object(P.jsx)(xe.a,{fullscreen:{visible:!1},videoProps:{shouldPlay:!0,resizeMode:ye.a.RESIZE_MODE_COVER,source:{uri:t.video},ref:d},slider:{maximumTrackTintColor:b,minimumTrackTintColor:f.primary}})})}),Object(P.jsxs)(z.a,{onPress:function(){return e.navigation.pop()},style:{position:"absolute",left:10,top:20,flexDirection:"row"},children:[Object(P.jsx)(W.a,{name:"close",size:30,color:"white"}),Object(P.jsx)(C.a,{style:{color:"white",fontSize:20,fontFamily:"Bold",marginLeft:20},children:t.name})]}),Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:D,transparent:!0,onDismiss:function(){return E(!1)},onRequestClose:function(){return E(!1)},children:Object(P.jsx)(H.a,{onPress:function(){return E(!1)},children:Object(P.jsx)(T.a,{style:ke.overlay,children:Object(P.jsxs)(w.a.View,{style:[ke.container,{backgroundColor:h}],children:[Object(P.jsx)(T.a,{style:{width:"10%",height:5,borderRadius:20,alignSelf:"center",backgroundColor:"lightgray"}}),Object(P.jsx)(C.a,{style:{fontFamily:"Bold",alignSelf:"center",fontSize:20,margin:20,color:b},children:"You aren't logged in yet!"}),Object(P.jsx)(z.a,{onPress:function(){return E(!1),m.reset({index:0,routes:[{name:"Login"}]})},style:ke.dropDownaction,children:Object(P.jsx)(C.a,{style:[ke.boldStyle,{color:b}],children:"Login"})}),Object(P.jsx)(z.a,{onPress:function(){return E(!1),m.reset({index:0,routes:[{name:"Register"}]})},style:ke.dropDownaction,children:Object(P.jsx)(C.a,{style:[ke.boldStyle,{color:b}],children:"Register"})}),Object(P.jsx)(C.a,{style:{fontFamily:"Regular",alignSelf:"center",fontSize:15,margin:20,color:b},children:"You still can watch the movie."})]})})})})]})}var ke=m.a.create({container:{backgroundColor:"#F5FCFF",flex:1},overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1},dropDown:{width:Se/2,position:"absolute",top:0,right:50,borderWidth:1},dropDownaction:{padding:5,paddingLeft:10,alignItems:"center",justifyContent:"center",borderWidth:1,margin:4,borderColor:"#2c3e50",borderRadius:10},boldStyle:{fontFamily:"Bold",fontSize:17}}),ve=b.a.get("screen"),Ce=(ve.width,ve.height);function Te(e){var t=Object(g.a)(),o="light"===t?f.lBackground:f.dBackground,i="light"===t?f.dBackground:f.lBackground,s=Object(r.useState)(""),l=a()(s,2),d=l[0],h=l[1],b=Object(c.q)(),m=Object(r.useState)(""),p=a()(m,2),y=p[0],x=p[1],I=Object(r.useState)(""),M=a()(I,2),L=M[0],D=M[1],E=Object(r.useState)(!1),W=a()(E,2),q=W[0],_=W[1],H=Object(r.useState)(!1),A=a()(H,2),N=A[0],V=A[1],U=Object(r.useState)(!1),G=a()(U,2),Y=G[0],X=G[1],J=Object(r.useState)(!1),K=a()(J,2),Q=K[0],Z=K[1],$=Object(r.useState)(),ee=a()($,2),te=ee[0],ne=ee[1];Object(r.useEffect)((function(){fetch("https://api-chacha.herokuapp.com/csrf",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){ne(e.csrf)})).catch((function(e){return console.error()}))}),[]);var oe=function(e,t){console.log(e,t),_(!1),200===t?("android"===u.a.OS?F.a.show("Welcome to Chacha. Please login to continue",40):alert("Welcome to Chacha. Please login to continue"),b.reset({index:0,routes:[{name:"Login"}]})):400===t&&(e.email?"android"===u.a.OS?(F.a.show("Please enter a valid email address.",40),Z(!1)):alert("Please enter a valid email address."):e.username&&(Z(!0),"android"===u.a.OS?F.a.show("A user with that username already exists.",40):alert("A user with that username already exists.")))},ae=Object(r.useState)(!1),re=a()(ae,2),ie=re[0],ce=re[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{children:Object(P.jsxs)(T.a,{style:[O.container,{backgroundColor:o,paddingBottom:Ce/2}],children:[Object(P.jsx)(B.a,{style:{width:500,height:500,tintColor:i,alignSelf:"center"},source:n(256)}),Object(P.jsx)(k.a,{placeholderTextColor:i,value:y,onChangeText:function(e){return x(e)},style:[O.input,{color:i}],placeholder:"Email"}),Object(P.jsx)(k.a,{placeholderTextColor:i,value:d,onChangeText:function(e){return h(e)},style:[O.input,{color:i}],placeholder:"Username"}),Object(P.jsx)(k.a,{placeholderTextColor:i,value:L,onChangeText:function(e){return D(e)},style:[O.input,{color:i}],placeholder:"Password",secureTextEntry:!0}),Object(P.jsx)(z.a,{onPress:function(){y&&d&&L?(X(!1),L.length<8?ce(!0):(ce(!1),_(!0),j(oe,{csrf:te,endpoint:"/users/accounts/api/auth/register",method:"POST",data:{username:d,email:y,password:L}}))):(ce(!1),_(!1),X(!0))},style:[O.Register,{borderColor:"#2c3e50",borderWidth:2}],children:q?Object(P.jsx)(R.a,{size:"small",color:i}):Object(P.jsx)(C.a,{style:[O.registerText,{color:i}],children:"Register"})}),Object(P.jsxs)(z.a,{onPress:function(){return V(!0)},style:{alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Regular",fontSize:15},children:"Have an account on Chacha?"}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Regular",fontSize:15},children:"You dont have to register for a new one."}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Bold",fontSize:15},children:"Learn more"})]})]})}),Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:N,transparent:!0,onDismiss:function(){return V(!1)},onRequestClose:function(){return V(!1)},children:Object(P.jsx)(T.a,{style:O.overlay,children:Object(P.jsxs)(w.a.View,{style:[O.modalContainer,{backgroundColor:o,padding:10}],children:[Object(P.jsxs)(v.a,{children:[Object(P.jsx)(T.a,{style:{width:"10%",height:5,borderRadius:20,alignSelf:"center",backgroundColor:"lightgray"}}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Bold",fontSize:15,alignSelf:"center"},children:"What is chacha?"}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Chacha is a new Social Media platform based in Africa. It's goals are to bring African people closer and make people heard."}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:5},children:"What is the relation of Chacha and Topping?"}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Topping is made in the same user base with Chacha. Meaning if you have an account on Chacha, you will have access to Topping. and vise versa."}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:5},children:"Does this mean I can login with my Chacha account?"}),Object(P.jsx)(C.a,{style:{color:i,fontFamily:"Regular",fontSize:15,alignSelf:"center"},children:"Yes. That is right. once you create an account in Topping. You can have access to Topping, as well as Chacha."}),Object(P.jsx)(C.a,{onPress:function(){return b.push("Login")},style:{color:i,fontFamily:"Bold",fontSize:15,alignSelf:"center",margin:20},children:"Log me in!"})]}),Object(P.jsx)(z.a,{onPress:function(){return V(!1)},style:{position:"absolute",top:0,left:10},children:Object(P.jsx)(C.a,{style:{fontFamily:"Bold",fontSize:20,color:i},children:"X"})})]})})}),Object(P.jsxs)(T.a,{style:{position:"absolute",top:0,width:"90%",alignItems:"center",justifyContent:"center",marginTop:50,alignSelf:"center"},children:[Q?Object(P.jsx)(T.a,{style:O.warning,children:Object(P.jsx)(C.a,{style:{fontSize:15,color:"white",fontFamily:"Black"},children:"Username is taken try another one"})}):null,Y?Object(P.jsx)(T.a,{style:O.warning,children:Object(P.jsx)(C.a,{style:{fontSize:15,color:"white",fontFamily:"Black"},children:"Please Fill both of the fields correctly"})}):null,ie?Object(P.jsx)(T.a,{style:O.warning,children:Object(P.jsx)(C.a,{style:{fontSize:15,color:"white",fontFamily:"Light"},children:"Password must be morethan 8 characters!"})}):null]})]})}var Be=n(188),Fe=n(121),Re=n(357),ze=b.a.get("window");ze.height,ze.width;function Pe(e){var t=Object(c.q)(),n=Object(g.a)(),o="light"===n?f.lBackground:f.dBackground,i="light"===n?f.dBackground:f.lBackground,s=Object(r.useState)(null),l=a()(s,2),h=l[0],j=l[1],b=Object(r.useRef)(null),m=Object(r.useState)({}),p=a()(m,2),y=(p[0],p[1]),x=Object(r.useState)(!1),O=a()(x,2),w=O[0],B=O[1],I=Object(r.useState)(""),M=a()(I,2),L=M[0],D=M[1],E=Object(r.useState)(""),q=a()(E,2),_=q[0],A=q[1],N=Object(r.useState)(""),V=a()(N,2),U=V[0],G=V[1],Y=Object(r.useState)(""),X=a()(Y,2),J=X[0],K=X[1],Q=function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),j(null),t.next=4,d.a.awrap(Be.a({mediaTypes:Fe.a.Videos,allowsEditing:!0,aspect:[1,1],quality:1,videoMaxDuration:600}));case 4:(e=t.sent).cancelled?B(!1):(e.duration>6e5?(B(!1),"android"===u.a.OS?F.a.show("Can not upload video which are more than 3 minutes long.",30):alert("Can not upload video which are more than 3 minutes long.")):(B(!1),j(e)),console.log(e));case 6:case"end":return t.stop()}}),null,null,null,Promise)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:w,transparent:!0,children:Object(P.jsx)(H.a,{children:Object(P.jsx)(T.a,{style:Ie.overlay,children:Object(P.jsx)(T.a,{style:[Ie.overlay,{alignItems:"center",justifyContent:"center"}],children:Object(P.jsx)(R.a,{size:"large",color:o})})})})}),Object(P.jsxs)(v.a,{style:{padding:20,backgroundColor:o,flex:1},children:[Object(P.jsxs)(T.a,{style:{marginVertical:20,flexDirection:"row",justifyContent:"space-between"},children:[Object(P.jsx)(z.a,{onPress:function(){return t.pop()},style:{backgroundColor:i,padding:10,borderRadius:100,alignSelf:"center"},children:Object(P.jsx)(W.a,{name:"close",size:30,color:o})}),h?Object(P.jsx)(z.a,{onPress:function(){return t.navigate("Make Movie Part Two",{movie:h,story:U,desc:_,name:L,genres:J})},style:{backgroundColor:i,padding:3,borderRadius:100,alignSelf:"center"},children:Object(P.jsx)(Re.a,{name:"navigate-next",size:50,color:o})}):null]}),Object(P.jsx)(z.a,{onPress:Q,style:{height:200,width:"100%",backgroundColor:"gray",alignItems:"center",justifyContent:"center"},children:h?Object(P.jsx)(ye.a,{style:{height:"100%",width:"100%",backgroundColor:"black"},ref:b,source:{uri:h.uri},useNativeControls:!0,resizeMode:"contain",isLooping:!0,onPlaybackStatusUpdate:function(e){return y((function(){return e}))}}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(C.a,{style:{fontFamily:"Bold",fontSize:16,color:i,marginBottom:10},children:"Choose Video to upload"}),Object(P.jsx)(C.a,{style:{fontFamily:"Regular",fontSize:15,color:i},children:" \u2022 Video should be lessthan 10 minutes long."})]})}),Object(P.jsx)(k.a,{value:L,onChangeText:function(e){return D(e)},style:[Ie.input,{color:i}],placeholder:"Name",placeholderTextColor:i}),Object(P.jsx)(k.a,{value:_,onChangeText:function(e){return A(e)},style:[Ie.input,{color:i}],multiline:!0,placeholder:"Description",placeholderTextColor:i}),Object(P.jsx)(k.a,{value:U,onChangeText:function(e){return G(e)},style:[Ie.input,{color:i}],multiline:!0,placeholder:"Story",placeholderTextColor:i}),Object(P.jsx)(k.a,{value:J,onChangeText:function(e){return K(e)},style:[Ie.input,{color:i}],multiline:!0,placeholder:'Genres (List them with commas ",")',placeholderTextColor:i}),h?Object(P.jsx)(z.a,{onPress:Q,style:{marginTop:"auto",backgroundColor:i,padding:5,borderRadius:40,alignItems:"center",justifyContent:"center",margin:10},children:Object(P.jsx)(C.a,{style:{fontFamily:"Regular",fontSize:20,color:o},children:"Change Video"})}):null]})]})}var Ie=m.a.create({overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1},input:{padding:5,margin:5,fontFamily:"Medium"}}),Me=n(189);n(494),n(495);var Le=b.a.get("window"),De=(Le.width,Le.height),Ee=function(e,t,n){var o,a,r,i,c,s,l;return d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,d.a.awrap(fetch(n));case 2:return o=u.sent,a="community/"+e+"/"+Math.random().toString(36),u.next=6,d.a.awrap(o.blob());case 6:r=u.sent,i=Me.a.storage().ref().child(a).put(r),c=function(e){t("transferred: "+e.bytesTransferred,200)},s=function(){i.snapshot.ref.getDownloadURL().then((function(e){t(e,201)}))},l=function(e){console.log(e),t(e,400)},i.on("state_changed",c,l,s);case 12:case"end":return u.stop()}}),null,null,null,Promise)};function We(e){var t,n=Object(c.q)(),o=null==e||null==(t=e.route)?void 0:t.params,s=o.movie,l=o.story,h=o.desc,b=o.name,m=o.genres,p=Object(r.useState)(),y=a()(p,2),x=y[0],O=y[1],w=Object(r.useState)(),k=a()(w,2),v=k[0],B=k[1],I=Object(g.a)(),M="light"===I?f.lBackground:f.dBackground,L="light"===I?f.dBackground:f.lBackground,D=Object(r.useState)(),E=a()(D,2),q=E[0],A=E[1],N=Object(r.useState)(),V=a()(N,2),U=V[0],G=V[1],Y=Object(r.useState)(!1),X=a()(Y,2),J=X[0],K=X[1];Object(r.useEffect)((function(){i.a.getItem("Token").then((function(e){e?G(e.replace('"',"").replace('"',"")):console.log("Not logged in, MakeMovie/b.js : 56")}))}),[]),Object(r.useEffect)((function(){fetch("https://api-chacha.herokuapp.com/csrf",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){A(e.csrf)})).catch((function(e){return console.error()}))}),[]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:J,transparent:!0,children:Object(P.jsx)(H.a,{children:Object(P.jsx)(T.a,{style:qe.overlay,children:Object(P.jsx)(T.a,{style:[qe.overlay,{alignItems:"center",justifyContent:"center"}],children:Object(P.jsx)(R.a,{size:"large",color:M})})})})}),Object(P.jsxs)(_.a,{blurRadius:30,source:{uri:v?v.uri:null},style:{flex:1,padding:10,backgroundColor:M},children:[Object(P.jsx)(T.a,{style:{marginVertical:20,flexDirection:"row",justifyContent:"space-between"},children:Object(P.jsx)(z.a,{onPress:function(){return n.pop()},style:{backgroundColor:L,padding:10,borderRadius:100,alignSelf:"center"},children:Object(P.jsx)(W.a,{name:"close",size:30,color:M})})}),Object(P.jsx)(z.a,{onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(Be.a({mediaTypes:Fe.a.Images,allowsEditing:!0,aspect:[1,1],quality:1}));case 2:(e=t.sent).cancelled||B(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},style:{alignItems:"center",justifyContent:"center"},children:Object(P.jsxs)(_.a,{style:{height:De/2,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:f.primary},source:{uri:v?v.uri:null},children:[v?null:Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:20,color:L,marginBottom:10},children:"Choose Banner Image (required)"}),Object(P.jsx)(z.a,{onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(Be.a({mediaTypes:Fe.a.Images,allowsEditing:!0,aspect:[1,1],quality:1}));case 2:(e=t.sent).cancelled||O(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},style:{marginTop:"auto",alignItems:"center",justifyContent:"center"},children:Object(P.jsx)(_.a,{style:{height:200,width:200,borderRadius:100,marginBottom:20,backgroundColor:M,alignItems:"center",justifyContent:"center"},source:{uri:x?x.uri:null},children:x?null:Object(P.jsx)(C.a,{style:{fontFamily:"Medium",fontSize:15,color:L,marginBottom:10},children:"Choose cover Image (required)"})})})]})}),Object(P.jsx)(C.a,{style:{fontFamily:"Black",fontSize:50,color:L},children:b}),Object(P.jsx)(C.a,{style:{fontFamily:"Bold",fontSize:30,color:L},children:l}),Object(P.jsx)(C.a,{style:{fontFamily:"Bold",fontSize:20,color:L},children:h})]}),v&&x?Object(P.jsx)(z.a,{onPress:function(){if(K(!0),v&&x&&b&&l&&h){Ee(b,(function(e,t){if(console.log(e,t,88),201===t){Ee(b,(function(t,o){if(console.log(t,o),201===o){j((function(e,t){console.log(e,t),K(!1),201===t?("android"===u.a.OS?F.a.show("Movie Uploaded Successfuly.",30):alert("Movie Uploaded Successfuly."),n.reset({index:0,routes:[{name:"Home",params:{token:e.token}}]})):400===t?e.name&&("android"===u.a.OS?F.a.show("That name is taken, Please try another one.",50):alert("That name is taken, Please try another one.")):"android"===u.a.OS?F.a.show("Movie wasn't Uploaded. Please try again.",30):alert("Movie wasn't Uploaded. Please try again.")}),{endpoint:"/api/make-movies",csrf:q,token:U,method:"POST",data:{name:b,description:h,story:l,video:s.uri,cover_image:t,banner:e,duration:s.duration,width:s.width,height:s.height,genres:m}})}}),x.uri)}}),v.uri)}},style:{marginTop:"auto",backgroundColor:L,padding:5,alignItems:"center",justifyContent:"center"},children:Object(P.jsx)(C.a,{style:{fontFamily:"Regular",fontSize:20,color:M},children:"Publish Movie"})}):null]})}var qe=m.a.create({overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1},input:{padding:5,margin:5,fontFamily:"Medium"}}),_e=b.a.get("window"),He=_e.width,Ae=(_e.height,Object(s.a)());function Ne(){var e=Object(r.useState)(!1),t=a()(e,2),n=t[0],o=t[1],s=Object(g.a)(),l=Object(c.q)(),d="light"===s?f.lBackground:f.dBackground,u="light"===s?f.dBackground:f.lBackground,h=Object(r.useState)(),j=a()(h,2),b=(j[0],j[1]);return Object(r.useEffect)((function(){i.a.getItem("Token").then((function(e){e?(b(e.replace('"',"").replace('"',"")),o(!1)):(o(!0),console.log("Not logged in, navigations/index.js : 37"))}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Ae.Navigator,{initialRouteName:"Home",children:[Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Home",children:be}),Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Login",component:L}),Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Register",component:Te}),Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Play Movie",component:we}),Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Make Movie",component:Pe}),Object(P.jsx)(Ae.Screen,{options:{headerShown:!1},name:"Make Movie Part Two",component:We})]}),Object(P.jsx)(S.a,{animated:!0,animationType:"fade",statusBarTranslucent:!0,visible:n,transparent:!0,onDismiss:function(){return o(!1)},onRequestClose:function(){return o(!1)},children:Object(P.jsx)(H.a,{onPress:function(){return o(!1)},children:Object(P.jsx)(T.a,{style:Ve.overlay,children:Object(P.jsxs)(w.a.View,{style:[Ve.container,{backgroundColor:d}],children:[Object(P.jsx)(T.a,{style:{width:"10%",height:5,borderRadius:20,alignSelf:"center",backgroundColor:"lightgray"}}),Object(P.jsx)(C.a,{style:{fontFamily:"Bold",alignSelf:"center",fontSize:20,margin:20,color:u},children:"Welcome to Topping"}),Object(P.jsx)(z.a,{onPress:function(){return o(!1),l.reset({index:0,routes:[{name:"Login"}]})},style:Ve.dropDownaction,children:Object(P.jsx)(C.a,{style:[Ve.boldStyle,{color:u}],children:"Login"})}),Object(P.jsx)(z.a,{onPress:function(){return o(!1),l.reset({index:0,routes:[{name:"Register"}]})},style:Ve.dropDownaction,children:Object(P.jsx)(C.a,{style:[Ve.boldStyle,{color:u}],children:"Register"})})]})})})})]})}var Ve=m.a.create({overlay:{backgroundColor:"rgba(0,0,0,0.2)",flex:1,justifyContent:"flex-end"},container:{backgroundColor:"white",paddingTop:12,borderTopRightRadius:12,borderTopLeftRadius:12,borderColor:"#2c3e50",borderWidth:1},dropDown:{width:He/2,position:"absolute",top:0,right:50,borderWidth:1},dropDownaction:{padding:5,paddingLeft:10,alignItems:"center",justifyContent:"center",borderWidth:1,margin:4,borderColor:"#2c3e50",borderRadius:10},boldStyle:{fontFamily:"Bold",fontSize:17}}),Ue=n(544),Ge=n(370),Ye=n(543),Xe=n(365),Je=b.a.get("window"),Ke=Je.width;Je.height;function Qe(){var e=Object(g.a)(),t="light"===e?f.lBackground:f.dBackground,o="light"===e?f.dBackground:f.lBackground,r=Object(Ye.a)({"Poppins-Light":n(498),"Poppins-Regular":n(499),"Poppins-Bold":n(500),"Poppins-ExtraLight":n(501),"Poppins-BoldItalic":n(502),"Poppins-ExtraLightItalic":n(503),Italic:n(504),VariableFont_wght:n(505),Black:n(506),BlackItalic:n(507),Bold:n(508),BoldItalic:n(509),Italic2:n(510),Light:n(511),LightItalic:n(512),Medium:n(513),MediumItalic:n(514),Regular:n(515),Thin:n(516),ThinItalic:n(517),Italic3:n(518),VariableFont_wght2:n(519)});return a()(r,1)[0]?"web"===u.a.OS?Object(P.jsxs)(T.a,{style:{flex:1,backgroundColor:t},children:[Object(P.jsx)(B.a,{style:{width:250,height:50,tintColor:o,alignSelf:"center"},source:n(520)}),Object(P.jsx)(T.a,{style:{flex:1,width:Ke/3,alignSelf:"center"},children:Object(P.jsx)(Ue.a,{children:Object(P.jsx)(Ne,{})})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Xe.a,{networkActivityIndicatorVisible:!0}),Object(P.jsx)(Ue.a,{children:Object(P.jsx)(Ne,{})})]}):Object(P.jsx)(Ge.a,{})}0===Me.a.apps.length&&Me.a.initializeApp({apiKey:"AIzaSyDbI9lXWSQjBuPta8jCyH6SMdS32qCHh7A",authDomain:"topping-caf89.firebaseapp.com",projectId:"topping-caf89",storageBucket:"topping-caf89.appspot.com",messagingSenderId:"922660999768",appId:"1:922660999768:web:400a0b9f864d9cb105302d"})},379:function(e,t,n){e.exports=n(521)},498:function(e,t,n){e.exports=n.p+"./fonts/Poppins-Light.ttf"},499:function(e,t,n){e.exports=n.p+"./fonts/Poppins-Regular.ttf"},500:function(e,t,n){e.exports=n.p+"./fonts/Poppins-Bold.ttf"},501:function(e,t,n){e.exports=n.p+"./fonts/Poppins-ExtraLight.ttf"},502:function(e,t,n){e.exports=n.p+"./fonts/Poppins-BoldItalic.ttf"},503:function(e,t,n){e.exports=n.p+"./fonts/Poppins-ExtraLightItalic.ttf"},504:function(e,t,n){e.exports=n.p+"./fonts/Nunito-Italic-VariableFont_wght.ttf"},505:function(e,t,n){e.exports=n.p+"./fonts/Nunito-VariableFont_wght.ttf"},506:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Black.ttf"},507:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-BlackItalic.ttf"},508:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Bold.ttf"},509:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-BoldItalic.ttf"},510:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Italic.ttf"},511:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Light.ttf"},512:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-LightItalic.ttf"},513:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Medium.ttf"},514:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-MediumItalic.ttf"},515:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Regular.ttf"},516:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Thin.ttf"},517:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-ThinItalic.ttf"},518:function(e,t,n){e.exports=n.p+"./fonts/SourceSans3-Italic-VariableFont_wght.ttf"},519:function(e,t,n){e.exports=n.p+"./fonts/SourceSans3-VariableFont_wght.ttf"},520:function(e,t,n){e.exports=n.p+"static/media/6.c093bf85.png"}},[[379,1,2]]]);
//# sourceMappingURL=app.bfa99ee2.chunk.js.map